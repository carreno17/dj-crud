{% load static %}
{% url 'home' as pending %}
{% url 'important' as important %}
{% url 'finished' as finished %}


 <div class="relative mt-2">
            
        <nav>

            <div class=" relative flex items-center justify-between spx-4 sm:px-6" >
                    
                <a href="{% url 'home' %}">
                <img class="h-10 w-10 mr-2 " src={% static 'logo.png' %} alt="Task">
                <span class="sr-only">Task</span>
                </a>
                
                <div class="lg:visible sm:invisible flex items-center flex-1">
                        

                {% if user.is_authenticated %}
                    
                    <a href="{% url 'home' %}" class=" p-2 no-underline focus:bg-yello-500 {% if request.path == pending %} no-underline text-base font-medium text-gray-600{% else %} text-base font-medium text-slate-200 hover:text-gray-600 {% endif %}">
                        Pending
                    </a>
                    <a href="{% url 'important' %}" class="p-2 no-underline{% if request.path == important%} no-underline text-base font-medium text-gray-600 {% else %} text-base font-medium text-slate-200	 hover:text-gray-600 {% endif %}">
                        Important
                    </a>
                    <a href="{% url 'finished' %}" class="p-2 no-underline{% if request.path == finished %} no-underline  text-base font-medium text-gray-600{% else %} text-base font-medium text-slate-200 hover:text-gray-600 {% endif %}">
                        Completed
                    </a>
                    

                {% endif %}
                
            </div>


            {% if user.is_authenticated %}
                <a href="{% url 'create' %}" class="no-underline w-20 flex justify-center py-2 px-3 rounded  text-sm font-medium text-white bg-yellow-500 shadow-lg shadow-yellow-400/50   hover:bg-yellow-400 sm:mr-2">
                        Create
                </a> 
               

                <div x-data="{ open: false }">
                   
                        <button @click="open = true" @click.outside="open = false"  class=" flex justify-end items-center text-decoration-none " >
                            
                            <div class="flex justify-end items-center ">
                                <img src="{% static 'img-user.png' %}" alt="mdo" width="32" height="32" class="m-1 rounded-full mx-auto ">
                                <span class="lg:visible  flex text-slate-200 m-1 sm:m-0 ">{{user.username | truncatechars:15}}</span>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="w-6 h-6 sm:w-14 sm:h-12"> 
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                </svg>
                            </div>
                            
                        </button>    
                        
        
                        
                    <div x-show="open" 
                    x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 scale-90"
                    x-transition:enter-end="opacity-100 scale-100"
                    x-transition:leave="transition ease-in duration-300"
                    x-transition:leave-start="opacity-100 scale-100"
                    x-transition:leave-end="opacity-0 scale-90"
                    @click.away="open=false" 
                    class="lg:visible sm:invisible z-10 flex justify-start hover:none origin-top-right absolute right-3 mt-2 w-56 rounded-md shadow-xl  bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                            
                        <div class="py-1" role="none">
                
                                <a href="{% url 'logout' %}" class="no-underline text-gray-300 block w-full text-left px-2 py-2 text-sm" role="menuitem" tabindex="-1" id="menu-item-3">
                                    <div class="flex justify-end">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" />
                                        </svg>
                                        <span class="text-lef">Sign out</span>
                                    </div>
                                </a>
                            
                        </div>
                    </div>
                    
                    <!--MOVIL-->

                    <div x-show="open" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="z-10 absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden">
                        <div class="mt-10 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-slate-900 w-full  divide-y-2 divide-gray-50">
                          <div class="px-1">
                            <div class="flex items-center justify-between">
                              
                            </div>
                    
                            <div class="mt-3">
                              <nav class="grid gap-2 ">
                                
                    
                              {% if user.is_authenticated %}
                    
                                
                                <a href="{% url 'home' %}" class="bg-slate-800 rounded p-3  no-underline{% if request.path == pending %} no-underline  text-base font-medium text-gray-600{% else %} text-base font-medium text-slate-200 hover:text-gray-400  {% endif %}">
                                    Pending
                                </a>
                                <a href="{% url 'important' %}" class="bg-slate-800 rounded p-3  no-underline{% if request.path == important%} no-underline  text-base font-medium text-gray-600{% else %} text-base font-medium text-slate-200 hover:text-gray-400  {% endif %}">
                                    Important
                                </a>
                                <a href="{% url 'finished' %}" class=" bg-slate-800 rounded p-3  no-underline{% if request.path == finished %}no-underline  text-base font-medium text-gray-600{% else %} text-base font-medium text-slate-200 hover:text-gray-400  {% endif %}">
                                    Completed
                                </a>
                                
                                <a href="{% url 'logout' %}" class="bg-slate-800 mt-2 mb-4 rounded p-3 no-underline text-white text-base">
                                    <div class="flex justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" />
                                        </svg>
                                        <span class="m-3text-lef">Sign out</span>
                                    </div>
                                </a>
                                
                              </nav>
                            </div>
                          </div>
                          
                            {% endif %}
                    
                          </div>
                        </div>
                      </div>
                    </div>
    
                
                </div>                        


                

            {% else %}
                   
                
                    <div x-data="{ open: false } " >
                    
                        <button @click="open = true" class=" text-white hover:text-white-500" type="button">
                            Login
                        </button>

                        <div
                        x-show="open"
                        x-transition:enter="ease-out duration-200"
                        x-transition:enter-start="opacity-50" 
                        x-transition:enter-end="opacity-100" 
                        x-transition:leave="ease-in duration-200" 
                        x-transition:leave-start="opacity-100" 
                        x-transition:leave-end="opacity-0"
                        class="fixed z-10 inset-0 bg-slate-800 bg-opacity-75 transition-opacity"
                        aria-modal="true"
                        @click.away="open=false">
                
                                
                    
                            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                            
                                <div class='flex justify-center'>
                                    <div class="bg-gray-700 p-6 max-w-md  shadow-md rounded-md ">
                                        <div class="flex-1 flex flex-col justify-center">
                                            <div class="mx-auto w-full max-w-sm lg:w-96">
                                                <div class='flex justify-between'>
                                                        <div class="flex justify-start">
                                                            <img class="w-auto h-12" src={% static 'logo.png' %} alt="marktplace">
                                                            <h3 class=" ml-2 mt-2 flex justify-center text-gray-300">Login</h3>
                                                        </div>
                                                        <button @click="open=false" type="button" class=" text-gray-400 bg-transparent hover:bg-gray-300 hover:text-gray-300 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white">
                                                            <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                                                            <span class="sr-only">Close modal</span>
                                                        </button>
                                                    </div>
                                                    
                                                    <div>
                                                        
                                                    <div class="py-3 px-6 lg:px-8">
                                                        <form action="#" method="POST" class="space-y-6">
                                                            {% csrf_token %}
                                                            
                                                            {% include 'messages.html' %}
                                                            
                                                            <label for="email" class=" text-left block text-sm font-medium text-gray-300">Email address</label>
                                                            <input id="email" name="email" type="email" placeholder="name@example.com" required class="m-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline focus:outline-offset-0 focus:outline-yellow-500 sm:text-sm">
                                                
                                                            <div>
                                                            
                                                                <label for="password" class="text-left block text-sm font-medium text-gray-300">Password</label>
                                                                <input id="password" name="password" type="password" placeholder="Password" required class="m-1  block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline focus:outline-offset-0 focus:outline-yellow-500  sm:text-sm">
                                                            </div>
                                                            
                                                            <div class="flex justify-between">
                                                                <div class="flex items-start">
                                                                    <div class="flex items-center h-5">
                                                                        <input id="remember" type="checkbox" value="false" class="h-4 w-4  text-yellow-500 focus:ring-yellow-400  rounded">
                                                                    </div>
                                                                    <label for="remember" class="ml-2 text-sm font-medium text-gray-300 dark:text-gray-300">Remember me</label>
                                                                </div>
                                                                
                                                                </div>

                                                                <button type="submit" class="w-full text-white bg-yellow-500 hover:bg-yellow-400  font-medium rounded-lg text-sm px-5 py-2.5 text-center ">Login to your account</button>
                                                                <div class="text-sm font-medium text-gray-300 dark:text-gray-300">
                                                                    Not registered? <a href="{% url 'sign-up' %}" class="text-yellow-500 no-underline text-yellow-500 hover:text-yellow-500">Create account</a>
                                                                </div>
                        
                                                        </form>
                                                    
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        
                
                    </div>
                   
                    
            {% endif %}
        </nav>

                                
            
<div>

